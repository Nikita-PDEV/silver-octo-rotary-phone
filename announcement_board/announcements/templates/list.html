{% extends 'base.html' %}  

{% block content %}  
<h1>Announcements</h1>  

<div class="row mb-3">  
    <div class="col-md-12">  
        <form class="form-inline">  
            <select class="form-control mr-2" name="category">  
                <option value="">All Categories</option>  
                {% for value, label in announcement_categories %}  
                    <option value="{{ value }}">{{ label }}</option>  
                {% endfor %}  
            </select>  
            <button type="submit" class="btn btn-primary">Filter</button>  
        </form>  
    </div>  
</div>  

<div class="row">  
    {% for announcement in announcements %}  
        <div class="col-md-4 mb-4">  
            <div class="card">  
                <div class="card-body">  
                    <h5 class="card-title">{{ announcement.title }}</h5>  
                    <p class="card-text">{{ announcement.content|truncatewords:20 }}</p>  
                    <a href="{% url 'announcement_detail' announcement.id %}" class="btn btn-primary">View</a>  
                </div>  
            </div>  
        </div>  
    {% empty %}  
        <div class="col-md-12">  
            <p>No announcements found.</p>  
        </div>  
    {% endfor %}  
</div>  
{% endblock %}